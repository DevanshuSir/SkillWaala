<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Admin Dashboard</title>
    <!-- Bootstrap & Icons -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css"
    />
    <link rel="stylesheet" href="./css/adminaitool.css" />

    <style>



      /* âœ… Extra Styling for Animated Popup */
      .modal-content {
        border-radius: 16px;
        overflow: hidden;
        animation: scaleIn 0.25s ease-in-out;
      }

      @keyframes scaleIn {
        0% {
          transform: scale(0.9);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }

      .modal-header .bg-danger {
        background: linear-gradient(135deg, #ff3b3b, #b30000);
      }
      .modal-body {
        font-size: 16px;
        text-align: left;
        color: #323233;
      }
      .modal-body i {
        font-size: 32px;
        color: #ff3b3b;
        margin-bottom: 8px;
      }

      .notification-bell {
        position: relative;
        font-size: 28px;
        cursor: pointer;
      }

      .notification-badge {
        position: absolute;
        top: -6px;
        right: -6px;
        background: red;
        color: white;
        border-radius: 50%;
        padding: 2px 6px;
        font-size: 12px;
        min-width: 18px;
        text-align: center;
      }

      .notification .dropdown-menu {
        width: 300px;
        padding: 0;
        overflow: hidden;
       
      }

      .notification-header {
        background-color: #0d6efd;
        color: white;
        padding: 10px;
        font-weight: 500;
      }

      .notification .dropdown-item {
        white-space: normal;
        font-size: 14px;
       
      }

         .notification a{
           text-decoration: none;
         }

      .no-notifications {
        color: gray;
        text-align: center;
        padding: 10px;
        font-style: italic;
      }

      .clear-all-btn {
        display: block;
        width: 100%;
        border: none;
        background: #f1f1f1;
        color: #0d6efd;
        padding: 8px 0;
        text-align: center;
        font-weight: 500;
        cursor: pointer;
        border-top: 1px solid #ddd;
      }

      .clear-all-btn:hover {
        background-color: #e9ecef;
      }

      
      .btn-orange {
        background: #f97316;
        color: #fff;
      }
      .btn-orange:hover {
        background: #ea580c;
        color: #fff;
      }
      .card {
        border-radius: 10px;
        box-shadow: 0 3px 8px rgba(0, 0, 0, 0.05);
        border: none;
      }
      .small-muted {
        font-size: 0.85rem;
        color: #6b7280;
      }
      @media (max-width: 768px) {
        .sidebar {
          position: relative;
          width: 100%;
          height: auto;
        }
        .content-area {
          margin-left: 0;
          padding: 16px;
        }
      }
    </style>
  </head>

  <body>
    <!-- âœ… SIDEBAR -->
    <div class="sidebar">
      <div class="brand">
        <i class="fa-solid fa-user"></i>
        <span>Admin</span>
      </div>
      <nav class="nav flex-column">
        <a class="nav-link active" href="./admin.html" data-title="Dashboard">
          <i class="fa-solid fa-gauge me-1"></i> <span>Dashboard</span>
        </a>
          <a
          class="nav-link"
          href="./admintotalcourse.html"
          data-title="Total Courses"
        >
          <i class="fa-solid fa-book-medical me-1"></i>
          <span>Total Courses</span>
        </a>
        <a
          class="nav-link"
          href="./admintotalstudents.html"
          data-title="Total Student Enroll"
        >
          <i class="fa-solid fa-user-check me-1"></i>
          <span>Total Student Enroll</span>
        </a>
        <a
          class="nav-link"
          href="./adminbatchcount.html"
          data-title="Active Courses Count"
        >
          <i class="fa-solid fa-book me-1"></i><span>Active Courses Count</span>
        </a>
        <a
          class="nav-link"
          href="./adminnotification.html"
          data-title="All Community Quarry"
        >
          <i class="fa-solid fa-comments me-1"></i
          ><span>All Community Quarry</span>
        </a>
        <a
          class="nav-link"
          href="./admintrainermanage.html"
          data-title="Trainer Dashboard"
        >
          <i class="fa-solid fa-users me-1"></i><span>Trainer Dashboard</span>
        </a>

        <a
          class="nav-link"
          href="./adminhiringportal.html"
          data-title="Hiring Portal"
        >
          <i class="fa-solid fa-arrows-down-to-people me-1"></i
          ><span>Hiring Portal</span>
        </a>

         <a
          class="nav-link"
          href="./adminaitool.html"
          data-title="Hiring Portal"
        >
          <i class="fa-solid fa-arrows-down-to-people me-1"></i
          ><span>AI Tools</span>
        </a>

        <a class="nav-link" href="./index.html" data-title="Logout">
          <i class="fa-solid fa-right-from-bracket me-1"></i><span>Logout</span>
        </a>
      </nav>
    </div>

    <!-- âœ… NAVBAR -->
    <nav class="navbar navbar-expand-lg">
      <div class="container-fluid">
        <button class="sidebar-toggle-btn">
          <i class="fa-solid fa-bars"></i>
        </button>

       
          <img src="./media/ok quality logo.png" alt="Logo" width="130" class="navbar-brand fw-bold mx-auto" />
 
      </div>
    </nav>

    <!-- âœ… Main Content -->
    <main class="main">
      <div class="container-fluid p-3 p-md-4">
        <div class="topbar">
          <h6 class="mb-0 text-muted">Home / AI Tools</h6>
          <div class="d-flex align-items-center gap-2 flex-wrap">
            <div class="d-flex justify-content-end">
              <div class="dropdown notification">
                <div
                  id="bell"
                  class="notification-bell"
                  data-bs-toggle="dropdown"
                  aria-expanded="false"
                >
                  ðŸ””
                  <span id="badge" class="notification-badge">3</span>
                </div>

                <ul
                  id="notificationList"
                  class="dropdown-menu dropdown-menu-end"
                  aria-labelledby="bell"
                >
                  <li class="notification-header">Notifications</li>
                  <a href="./adminnotification.html">
                    <li class="dropdown-item">ðŸ“© You have a new message</li>
                  </a>
                   <a href="./adminnotification.html">
                    <li class="dropdown-item">ðŸ“¦ New community message</li>
                  </a>
                  <a href="./adminnotification.html">
                    <li class="dropdown-item">ðŸ’¬ New comment on your post</li>
                  </a>

                  <li>
                    <button id="clearAll" class="clear-all-btn">
                      Clear All
                    </button>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>

        <div class="profile-hero mt-3">
          <div class="profile-left">
            <img
              src="https://img.freepik.com/free-vector/isolated-young-handsome-man-different-poses-white-background-illustration_632498-859.jpg?semt=ais_hybrid&w=740&q=80"
              class="profile-avatar"
            />
            <div>
              <h6 class="mb-0 fs-2">Admin</h6>
            </div>
          </div>

          
         
        </div>

          <!-- Content -->
    <div class="content-area mt-3">
      <h4 class="fw-bold mb-4">AI Tools Admin Dashboard</h4>

      <!-- Tools List -->
      <section id="listSection" class="mb-4">
        <div class="card p-3">
          <div class="d-flex justify-content-between align-items-center">
            <h6 class="fw-bold mb-0">Manage AI Tools</h6>
            <button
              class="btn btn-orange btn-sm"
              data-bs-toggle="modal"
              data-bs-target="#toolModal"
            >
              <i class="bi bi-plus-lg"></i> Add Tool
            </button>
          </div>

          <div class="table-responsive mt-3">
            <table class="table table-hover align-middle" id="toolsTable">
              <thead class="table-light">
                <tr>
                  <th>S.No</th>
                  <th>Name</th>
                  <th>Category</th>
                  <th>Pricing</th>
                  <th>Platform</th>
                  <th>Website</th>
                  <th>YouTube</th>
                  <th>Instagram</th>
                  <th>Facebook</th>
                  <th>Rating</th>
                  <th>Action</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
      </section>

      <!-- Tool Details Section -->
      <section id="detailSection">
        <div class="card p-4">
          <h6 class="fw-semibold mb-3">Tool Detailed Management</h6>
          <form id="detailForm" class="row g-3">
            <div class="col-md-6">
              <label class="form-label">Tool Name</label>
              <input id="dName" class="form-control" placeholder="Tool Name" />
            </div>
            <div class="col-md-6">
              <label class="form-label">Subtitle / Tagline</label>
              <input id="dTag" class="form-control" placeholder="Tagline" />
            </div>
            <div class="col-12">
              <label class="form-label">Description</label>
              <textarea id="dDesc" class="form-control" rows="2"></textarea>
            </div>
            <div class="col-md-4">
              <label class="form-label">Rating</label
              ><input
                id="dRating"
                type="number"
                step="0.1"
                class="form-control"
              />
            </div>
            <div class="col-md-4">
              <label class="form-label">Category</label
              ><input id="dCategory" class="form-control" />
            </div>
            <div class="col-md-4">
              <label class="form-label">Pricing</label>
              <select id="dPricing" class="form-select">
                <option>Free</option>
                <option>Paid</option>
                <option>Free + Paid</option>
              </select>
            </div>

            <!-- Attributes -->
            <div class="col-12">
              <h6 class="mt-3">Attributes</h6>
              <div class="row g-2">
                <div class="col-md-3">
                  <input
                    id="attrPlatform"
                    class="form-control"
                    placeholder="Platform"
                  />
                </div>
                <div class="col-md-3">
                  <input
                    id="attrApi"
                    class="form-control"
                    placeholder="API (Yes/No)"
                  />
                </div>
                <div class="col-md-3">
                  <input
                    id="attrBestFor"
                    class="form-control"
                    placeholder="Best For"
                  />
                </div>
                <div class="col-md-3">
                  <input
                    id="attrImageGen"
                    class="form-control"
                    placeholder="Image Gen (Yes/No)"
                  />
                </div>
              </div>
            </div>

            <!-- Features & Analysis -->
            <div class="col-12 mt-3">
              <label class="form-label">Key Features</label>
              <textarea
                id="dFeatures"
                class="form-control"
                rows="3"
                placeholder="comma separated or newline"
              ></textarea>
            </div>
            <div class="col-12 mt-3">
              <label class="form-label">Detailed Analysis</label>
              <textarea id="dAnalysis" class="form-control" rows="3"></textarea>
            </div>

            <!-- Pros Cons -->
            <div class="col-md-6 mt-3">
              <label class="form-label">Pros</label
              ><textarea id="dPros" class="form-control" rows="3"></textarea>
            </div>
            <div class="col-md-6 mt-3">
              <label class="form-label">Cons</label
              ><textarea id="dCons" class="form-control" rows="3"></textarea>
            </div>

            <!-- FAQ -->
            <div class="col-12 mt-3">
              <h6>FAQs</h6>
              <div class="row g-2">
                <div class="col-md-5">
                  <input
                    id="faqQ"
                    class="form-control"
                    placeholder="Question"
                  />
                </div>
                <div class="col-md-5">
                  <input id="faqA" class="form-control" placeholder="Answer" />
                </div>
                <div class="col-md-2">
                  <button class="btn btn-orange w-100" id="addFaqBtn">
                    <i class="bi bi-plus-lg"></i>
                  </button>
                </div>
              </div>
              <ul id="faqList" class="list-group mt-2"></ul>
            </div>

            <!-- Related -->
            <div class="col-12 mt-3">
              <h6>Related Tools</h6>
              <div class="row g-2">
                <div class="col-md-8">
                  <input
                    id="dRelatedInput"
                    class="form-control"
                    placeholder="Tool Name"
                  />
                </div>
                <div class="col-md-4">
                  <button
                    class="btn btn-outline-secondary w-100"
                    id="addRelatedBtn"
                  >
                    Add
                  </button>
                </div>
              </div>
              <ul id="relatedList" class="list-group mt-2"></ul>
            </div>

            <div class="col-12 mt-3">
              <button class="btn btn-orange w-100" id="saveDetail">
                Save Detailed Info
              </button>
            </div>
          </form>
        </div>
      </section>
    </div>

    <!-- Add/Edit Modal -->
    <div class="modal fade" id="toolModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header bg-light">
            <h5 class="modal-title">Add / Quick Edit Tool</h5>
            <button class="btn-close" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body">
            <form id="toolForm" class="row g-3">
              <div class="col-md-6">
                <label class="form-label">Tool Name *</label
                ><input id="tName" class="form-control" />
              </div>
              <div class="col-md-6">
                <label class="form-label">Category *</label
                ><input id="tCategory" class="form-control" />
              </div>
              <div class="col-md-4">
                <label class="form-label">Pricing</label
                ><select id="tPricing" class="form-select">
                  <option>Free</option>
                  <option>Paid</option>
                  <option>Free + Paid</option>
                </select>
              </div>
              <div class="col-md-4">
                <label class="form-label">Platform</label
                ><input id="tPlatform" class="form-control" />
              </div>
              <div class="col-md-4">
                <label class="form-label">Rating</label
                ><input
                  id="tRating"
                  type="number"
                  step="0.1"
                  class="form-control"
                />
              </div>
              <div class="col-md-6">
                <label class="form-label">Website URL</label
                ><input id="tWebsite" class="form-control" />
              </div>
              <div class="col-md-6">
                <label class="form-label">YouTube URL</label
                ><input id="tYouTube" class="form-control" />
              </div>
              <div class="col-md-6">
                <label class="form-label">Instagram URL</label
                ><input id="tInsta" class="form-control" />
              </div>
              <div class="col-md-6">
                <label class="form-label">Facebook URL</label
                ><input id="tFacebook" class="form-control" />
              </div>
              <div class="col-12">
                <label class="form-label">Short Description</label
                ><textarea id="tDesc" class="form-control" rows="2"></textarea>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button class="btn btn-secondary" data-bs-dismiss="modal">
              Cancel
            </button>
            <button class="btn btn-orange" id="saveToolBtn">Save Tool</button>
          </div>
        </div>
      </div>
    </div>
      </div>

      <!-- Footer -->
      <footer>
        <!-- Bottom Copyright -->
        <div class="footer-bottom">
          <p>Copyright Â©2027 SkillWaala. All Rights Reserved.</p>
        </div>

        <div class="footer-contacts">
          <p>Business No: +91 7766967799</p>
          <p>Email: hro@skillwaala.com</p>
        </div>
      </footer>

      <!-- âœ… Deactivate Confirmation Modal -->
      <div
        class="modal fade"
        id="deactivateModal"
        tabindex="-1"
        aria-hidden="true"
      >
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content border-0 shadow">
            <div class="modal-header bg-danger text-white">
              <h5 class="modal-title">Deactivate Trainer</h5>
              <button
                type="button"
                class="btn-close btn-close-white"
                data-bs-dismiss="modal"
              ></button>
            </div>
            <div class="modal-body">
              <i class="bi bi-exclamation-triangle-fill"></i>
              <p>Are you sure you want to deactivate this trainer?</p>
            </div>
            <div class="modal-footer justify-content-center">
              <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                No
              </button>
              <button
                type="button"
                class="btn btn-danger"
                id="confirmDeactivate"
              >
                Yes
              </button>
            </div>
          </div>
        </div>
      </div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
      const sidebar = document.querySelector(".sidebar");
      const toggleBtn = document.querySelector(".sidebar-toggle-btn");
      const navLinks = document.querySelectorAll(".sidebar .nav-link");

      toggleBtn.addEventListener("click", () => {
        if (window.innerWidth < 992) {
          sidebar.classList.toggle("show");
        } else {
          sidebar.classList.toggle("collapsed");
        }
      });

      const currentLocation = window.location.href;
      navLinks.forEach((link) => {
        if (link.href === currentLocation) link.classList.add("active");
        else link.classList.remove("active");
      });

      // âœ… Trainer selection + popup confirm deactivate
      document.querySelectorAll(".trainer-select").forEach((select) => {
        select.addEventListener("change", function () {
          const selectedName = this.value;
          const parentCourse = this.closest(".course-item");
          const trainerContainer =
            parentCourse.querySelector(".selected-trainers");

          const alreadyExists = [...trainerContainer.children].some(
            (el) => el.querySelector("span").innerText === selectedName
          );
          if (alreadyExists) {
            this.value = "----Select Trainer----";
            return;
          }

          const badge = document.createElement("div");
          badge.className =
            "badge bg-primary text-light d-flex align-items-center gap-2 px-2 py-1";
          badge.innerHTML = `
              <span>${selectedName}</span>
              <i class="bi bi-x-circle-fill text-light remove-trainer" style="cursor:pointer; font-size: 14px;"></i>
            `;
          trainerContainer.appendChild(badge);
          this.value = "----Select Trainer----";
        });
      });

      let selectedBadge = null;

      document.addEventListener("click", (e) => {
        if (e.target.classList.contains("remove-trainer")) {
          selectedBadge = e.target.closest(".badge");
          const modal = new bootstrap.Modal(
            document.getElementById("deactivateModal")
          );
          modal.show();
        }
      });

      document
        .getElementById("confirmDeactivate")
        .addEventListener("click", function () {
          if (selectedBadge) {
            selectedBadge.classList.remove("bg-primary");
            selectedBadge.classList.add("bg-danger");
          }
          const modal = bootstrap.Modal.getInstance(
            document.getElementById("deactivateModal")
          );
          modal.hide();
        });
    </script>

    <script>
      const badge = document.getElementById("badge");
      const notificationList = document.getElementById("notificationList");
      const clearAllBtn = document.getElementById("clearAll");
      let notificationCount = 3;

      // Bell click event (open dropdown)
      document.getElementById("bell").addEventListener("click", () => {
        if (notificationCount === 0) {
          badge.textContent = 0;
        }
      });

      // Clear all button click
      clearAllBtn.addEventListener("click", () => {
        notificationList.innerHTML = `
        <li class="notification-header">Notifications</li>
        <li class="no-notifications">No new notifications</li>
        <li><button id="clearAll" class="clear-all-btn" disabled>Clear All</button></li>
      `;
        notificationCount = 0;
        badge.textContent = notificationCount;
      });
    </script>

      <script>
      let tools = [],
        details = {};
      let editIndex = null;

      // Render tools
      function renderTools() {
        const tbody = document.querySelector("#toolsTable tbody");
        tbody.innerHTML = "";
        tools.forEach((t, i) => {
          tbody.insertAdjacentHTML(
            "beforeend",
            `
    <tr>
      <td>${i + 1}</td><td>${t.name}</td><td>${t.category}</td><td>${t.pricing}</td><td>${t.platform}</td>
      <td>${t.website || "-"}</td><td>${t.youtube || "-"}</td><td>${t.instagram || "-"}</td><td>${t.facebook || "-"}</td>
      <td>${t.rating || "-"}</td>
      <td>
        <button class="btn btn-sm btn-outline-primary me-1" onclick="loadDetail(${i})" title="Full Edit"><i class="bi bi-pencil"></i></button>
        <button class="btn btn-sm btn-outline-secondary me-1" onclick="prefillModal(${i})" title="Quick Edit"><i class="bi bi-pencil-square"></i></button>
        <button class="btn btn-sm btn-outline-danger" onclick="deleteTool(${i})"><i class="bi bi-trash"></i></button>
      </td>
    </tr>`,
          );
        });
      }
      function deleteTool(i) {
        if (confirm("Delete this tool?")) {
          tools.splice(i, 1);
          renderTools();
        }
      }

      // Modal Save
      saveToolBtn.addEventListener("click", () => {
        const t = {
          name: tName.value,
          category: tCategory.value,
          pricing: tPricing.value,
          platform: tPlatform.value,
          rating: tRating.value,
          website: tWebsite.value,
          youtube: tYouTube.value,
          instagram: tInsta.value,
          facebook: tFacebook.value,
          desc: tDesc.value,
        };
        if (!t.name || !t.category)
          return alert("Please fill required fields!");
        if (editIndex !== null) {
          tools[editIndex] = t;
          editIndex = null;
        } else tools.push(t);
        renderTools();
        document.querySelector("#toolForm").reset();
        bootstrap.Modal.getInstance(
          document.querySelector("#toolModal"),
        ).hide();
      });
      function prefillModal(i) {
        const t = tools[i];
        editIndex = i;
        tName.value = t.name;
        tCategory.value = t.category;
        tPricing.value = t.pricing;
        tPlatform.value = t.platform;
        tRating.value = t.rating;
        tWebsite.value = t.website;
        tYouTube.value = t.youtube;
        tInsta.value = t.instagram;
        tFacebook.value = t.facebook;
        tDesc.value = t.desc;
        new bootstrap.Modal(document.querySelector("#toolModal")).show();
      }

      // Load Detail Editor
      function loadDetail(i) {
        const t = tools[i];
        if (!t) return;
        dName.value = t.name;
        dCategory.value = t.category;
        dPricing.value = t.pricing;
        dRating.value = t.rating;
        dDesc.value = t.desc;
        const d = details[t.name] || {};
        dTag.value = d.tag || "";
        dFeatures.value = (d.features || []).join(", ");
        dAnalysis.value = d.analysis || "";
        dPros.value = (d.pros || []).join("\\n");
        dCons.value = (d.cons || []).join("\\n");
        attrPlatform.value = d.attributes?.platform || t.platform || "";
        attrApi.value = d.attributes?.api || "";
        attrBestFor.value = d.attributes?.bestFor || "";
        attrImageGen.value = d.attributes?.imageGen || "";
        renderFaqList(d.faqs || []);
        renderRelatedList(d.related || []);
        document
          .getElementById("detailSection")
          .scrollIntoView({ behavior: "smooth" });
      }

      // FAQ + Related controls
      function renderFaqList(list) {
        faqList.innerHTML = "";
        list.forEach((f, i) =>
          faqList.insertAdjacentHTML(
            "beforeend",
            `<li class='list-group-item d-flex justify-content-between'><div><b>Q:</b>${f.q}<br><small><b>A:</b>${f.a}</small></div><button class='btn btn-sm btn-outline-danger' onclick='removeFaq(${i})'><i class='bi bi-x'></i></button></li>`,
          ),
        );
      }
      function getFaqs() {
        const arr = [];
        faqList.querySelectorAll("li").forEach((li) => {
          const qa = li.innerText.split("A:");
          arr.push({ q: qa[0].replace("Q:", "").trim(), a: qa[1]?.trim() });
        });
        return arr;
      }
      function removeFaq(i) {
        const arr = getFaqs();
        arr.splice(i, 1);
        renderFaqList(arr);
      }
      addFaqBtn.addEventListener("click", (e) => {
        e.preventDefault();
        if (!faqQ.value || !faqA.value) return;
        const arr = getFaqs();
        arr.push({ q: faqQ.value, a: faqA.value });
        renderFaqList(arr);
        faqQ.value = "";
        faqA.value = "";
      });

      function renderRelatedList(list) {
        relatedList.innerHTML = "";
        list.forEach((r, i) =>
          relatedList.insertAdjacentHTML(
            "beforeend",
            `<li class='list-group-item d-flex justify-content-between'>${r}<button class='btn btn-sm btn-outline-danger' onclick='removeRelated(${i})'><i class='bi bi-x'></i></button></li>`,
          ),
        );
      }
      function getRelated() {
        const arr = [];
        relatedList
          .querySelectorAll("li")
          .forEach((li) => arr.push(li.firstChild.textContent.trim()));
        return arr;
      }
      function removeRelated(i) {
        const arr = getRelated();
        arr.splice(i, 1);
        renderRelatedList(arr);
      }
      addRelatedBtn.addEventListener("click", (e) => {
        e.preventDefault();
        if (!dRelatedInput.value) return;
        const arr = getRelated();
        arr.push(dRelatedInput.value);
        renderRelatedList(arr);
        dRelatedInput.value = "";
      });

      // Save Detail
      saveDetail.addEventListener("click", () => {
        const name = dName.value.trim();
        if (!name) return alert("Enter name");
        details[name] = {
          tag: dTag.value,
          desc: dDesc.value,
          rating: dRating.value,
          category: dCategory.value,
          pricing: dPricing.value,
          features: dFeatures.value
            .split(/,|\\n/)
            .map((s) => s.trim())
            .filter(Boolean),
          analysis: dAnalysis.value,
          pros: dPros.value.split(/\\n/),
          cons: dCons.value.split(/\\n/),
          faqs: getFaqs(),
          related: getRelated(),
          attributes: {
            platform: attrPlatform.value,
            api: attrApi.value,
            bestFor: attrBestFor.value,
            imageGen: attrImageGen.value,
          },
        };
        alert("Detailed info saved (in memory)");
      });
      renderTools();
    </script>
  </body>
</html>
